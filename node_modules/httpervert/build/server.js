'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getHTTPServer;

var _http = require('http');

var _chalk = require('chalk');

var _chalk2 = _interopRequireDefault(_chalk);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getHTTPServer(options) {
  const { app, port, environment, logger } = options;

  const server = (0, _http.Server)(app).listen(port, function () {
    logger.info('Environment:', environment);
    logger.info('Listening on port', port + '...');
  });
  server.timeout = 12000;

  server.on('request', function (req, res) {
    if (environment === 'development') {
      logger.info(_chalk2.default.cyan("processing..."));
    }
  });
  return server;
}